{% extends "base.html" %} {% block content %}

<!-- Intro -->
<div class="container-fluid d-flex flex-column justify-content-center align-items-center text-center" style="min-height: calc(100vh - 310px);" data-aos="zoom-out">
 <h1 class="fw-bold text-monospace mb-1" style="font-size: 4.5rem; color: var(--COLOR2);" data-aos="zoom-in">
  Katálogo
 </h1>

 <p class="lead text-muted px-2 px-md-5 mb-2" style="max-width: 80%; font-size: 1rem;">Encontre aqui os <strong>melhores</strong> negócios, produtos e serviços na sua região</p>

 <p class="text-muted px-3 px-md-5 mb-2" style="max-width: 75%; font-size: 0.9rem;">
  Descubra uma nova forma de gerenciar seus negócios e serviços. Explore, conecte-se e acompanhe tudo
  <strong>em um só lugar</strong>.
 </p>

 <div class="mt-3" data-aos="fade-up">
  <p class="text-muted mb-2">Acessar como</p>
  <div class="d-flex gap-3 justify-content-center">
   <a class="btn btn-outline-secondary" href="#comerciante">Comerciante</a>
   <a class="btn btn-primary" href="#cliente">Cliente</a>
  </div>
 </div>
</div>

<!-- Cliente -->
<div id="cliente" class="container-fluid d-flex flex-column justify-content-center align-items-center text-center py-5" style="min-height: 100vh;">
 <h1 class="fw-bold text-monospace mb-4" style="font-size: 3rem; color: var(--COLOR4);" data-aos="fade-down">Cliente</h1>

 <p class="lead text-muted px-2 px-md-5 mb-4" style="max-width: 80%; font-size: 1rem;" data-aos="fade-down">
  Explore os negócios recomendados e encontre o que precisa de forma prática.
 </p>

 <!-- Carrossel 
  <div id="carouselClientes" class="carousel slide" data-bs-touch="false" data-bs-keyboard="false" data-bs-interval="2000" data-bs-ride="carousel" style="opacity: 0.5">
    <div class="carousel-inner">

      {% for i in range(0, businesses|length, 3) %}
      <div class="carousel-item {% if i == 0 %}active{% endif %}">
        <div class="d-flex justify-content-center gap-4">
         

          {% for b in businesses[i:i+3] %}
          <div class="cards-wrapper" data-aos="fade-up" style="max-width: 300px;">

            <div class="card h-100 {% if b[13] %}premium-glow border border-primary{% else %}shadow-sm{% endif %}">

              {% if b[13] %}
              <div class="position-absolute top-0 end-0 m-2 badge rounded-pill text-white d-flex align-items-center gap-1 shadow-sm"
                   style="padding:0.3rem 0.8rem; font-size: 0.75rem; background: linear-gradient(45deg, var(--COLOR6), var(--COLOR7));"
                   title="Premium" data-aos="zoom-in">
                <i class="bi bi-star-fill"></i>
              </div>
              {% endif %}

              <div class="card-body d-flex flex-column">
                <div class="d-flex align-items-center mb-2">
                  <img src="{{ url_for('static', filename='uploads/' ~ b[7]) if b[7] else 'https://placehold.co/150' }}"
                       alt="{{ b[1] }}" class="rounded-circle me-3"
                       style="width: 50px; height: 50px; object-fit: cover;" />
                  <h5 class="card-title mb-0">
                    {{ b[1] }} <br>
                    <span class="badge bg-primary" style="font-size: 0.6em;">
                      {{ b[3] }}
                    </span>
                  </h5>
                </div>

                <p class="line-clamp-3 card-text text-muted small flex-grow-1">
                  {{ b[2] }}
                </p>

                <a href="/business/{{ b[0] }}" class="btn btn-sm btn-primary mt-auto">Ver mais</a>
              </div>
            </div>
          </div>
          {% endfor %}

        </div>
      </div>
      {% endfor %}
  
    </div>
    
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselClientes" data-bs-slide="prev">
      <span class="carousel-control-prev-icon"></span>
      <span class="visually-hidden">Anterior</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselClientes" data-bs-slide="next">
      <span class="carousel-control-next-icon"></span>
      <span class="visually-hidden">Próximo</span>
    </button>
  </div>-->
</div>

<!-- Comerciante -->
<div id="comerciante" class="container-fluid d-flex flex-column justify-content-center align-items-center text-center py-5" style="min-height: 100vh;" data-aos="fade-up">
 <h1 class="fw-bold text-monospace mb-4" style="font-size: 3rem; color: var(--COLOR4);"data-aos="fade-down">Comerciante</h1>

 <p class="lead text-muted px-2 px-md-5 mb-2" style="max-width: 80%; font-size: 1rem;" data-aos="fade-down">
  Tenha visibilidade, gerencie seus serviços e conquiste novos clientes com facilidade.
 </p>
</div>

<div id="carouselClientes" class="carousel slide p-2 py-4" data-bs-touch="false" data-bs-keyboard="false" data-bs-interval="3000" data-bs-ride="carousel" style="opacity: 0.5;" data-aos="fade-in">
 <div class="carousel-inner">
  {% for i in range(0, businesses|length, 4) %}
  <div class="carousel-item {% if i == 0 %}active{% endif %}">
   <div class="d-flex justify-content-center gap-2 flex-wrap">
    {% for b in businesses[i:i+4] %}
    <div class="cards-wrapper" style="max-width: 400px;">
     <div class="card glass-card h-100 {% if b[13] %}premium-glow border border-primary{% else %}shadow-sm{% endif %}">
      {% if b[13] %}
      <div
       class="position-absolute top-0 end-0 m-2 badge rounded-pill text-white d-flex align-items-center gap-1 shadow-sm"
       style="padding: 0.3rem 0.8rem; font-size: 0.75rem; background: linear-gradient(45deg, var(--COLOR6), var(--COLOR7));"
       title="Premium"
      >
       <i class="bi bi-star-fill"></i>
      </div>
      {% endif %}
      <div class="card-body d-flex flex-column">
       <img src="{{ url_for('static', filename='uploads/' ~ b[7]) if b[7] else 'https://placehold.co/150' }}" alt="{{ b[1] }}" class="rounded-circle mb-2" style="width: 50px; height: 50px; object-fit: cover;" />
      </div>
     </div>
    </div>
    {% endfor %}
   </div>
  </div>
  {% endfor %}
 </div>

 <!-- Controles -->
 <button class="carousel-control-prev" type="button" data-bs-target="#carouselClientes" data-bs-slide="prev">
  <span class="carousel-control-prev-icon"></span>
  <span class="visually-hidden">Anterior</span>
 </button>
 <button class="carousel-control-next" type="button" data-bs-target="#carouselClientes" data-bs-slide="next">
  <span class="carousel-control-next-icon"></span>
  <span class="visually-hidden">Próximo</span>
 </button>
</div>

<!-- Footer -->
<footer class="pt-5 pb-3 mt-3" style="background-color: #fafafa; box-shadow: inset 0 1px 0 rgba(0, 0, 0, 0.05);">
 <div class="container">
  <div class="row">
   <div class="col-6 mb-3">
    <h5 class="fw-bold text-uppercase mb-3">Fale Conosco</h5>
    <div class="d-flex flex-column gap-2">
     <a href="mailto:katalogo.contato@gmail.com" class="btn btn-outline-secondary btn-sm d-flex align-items-center"> <i class="bi bi-envelope-fill me-2"></i> Email </a>
     <a href="https://wa.me/5511916591346" target="_blank" class="btn btn-outline-secondary btn-sm d-flex align-items-center"> <i class="bi bi-whatsapp me-2"></i> Whatsapp </a>
    </div>
   </div>
   <div class="col-6 mb-3">
    <h5 class="fw-bold text-uppercase mb-3">Siga-nos</h5>
    <div class="d-flex flex-column gap-2">
     <a href="https://www.instagram.com/katalogo" target="_blank" class="btn btn-outline-secondary btn-sm d-flex align-items-center"> <i class="bi bi-instagram me-2"></i> Instagram </a>
    </div>
   </div>
  </div>
  <hr class="border-secondary opacity-25" />
  <p class="text-muted small text-center mb-1">
   Conectando clientes e negócios com segurança e facilidade.
  </p>
  <div class="text-center small text-muted">
   &copy; 2025 Katálogo. Todos os direitos reservados.
  </div>
 </div>
</footer>

{% endblock %}
